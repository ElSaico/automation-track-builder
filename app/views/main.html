<div class="header">
    <h3 class="text-muted">Automation Track Editor</h3>
</div>

<canvas id="track-overview" width="640" height="360">
</canvas>
<br/>

<div class="row">
    <div class="col-sm-4">
        <div class="form-group">
            <label>Track name</label>
            <input type="text" class="form-control" ng-model="name" />
        </div>
    </div>
    <div class="col-sm-4">
        <button class="btn btn-default btn-block" ng-click="cornerPush()">
            <span class="glyphicon glyphicon-plus"></span>
            Append corner
        </button>
        <button class="btn btn-default btn-block" ng-click="cornerPop()">
            <span class="glyphicon glyphicon-remove"></span>
            Remove last corner
        </button>
    </div>
    <div class="col-sm-4">
        <input id="background-file" type="file" class="hidden" />
        <button type="button" class="btn btn-default btn-lg btn-block" ng-click="loadBG()">
            <span class="glyphicon glyphicon-picture"></span>
            Load background
        </button>
        <div class="btn-group btn-group-lg btn-group-justified">
            <div class="btn-group">
                <input id="import-file" type="file" class="hidden" />
                <button type="button" class="btn btn-default" ng-click="importFile()">
                    <span class="glyphicon glyphicon-import"></span>
                    Import file
                </button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default" ng-click="exportFile()">
                    <span class="glyphicon glyphicon-export"></span>
                    Export file
                </button>
            </div>
        </div>
    </div>
</div>
<br/>
<div class="row">
    <div class="col-sm-4">
        <div class="form-group">
            <label>Start position</label>
            <div class="input-group">
                <span class="input-group-addon">X</span>
                <input type="number" class="form-control" min="1" max="1280" ng-model="start.x" />
                <span class="input-group-addon">px</span>
            </div>
            <div class="input-group">
                <span class="input-group-addon">Y</span>
                <input type="number" class="form-control" min="1" max="720" ng-model="start.y" />
                <span class="input-group-addon">px</span>
            </div>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="form-group">
            <label>Sector distance</label>
            <div class="input-group">
                <span class="input-group-addon">1</span>
                <input type="number" class="form-control" min="1" step="0.1" ng-model="split1" />
                <span class="input-group-addon">m</span>
            </div>
            <div class="input-group">
                <span class="input-group-addon">2</span>
                <input type="number" class="form-control" min="1" step="0.1" ng-model="split2" />
                <span class="input-group-addon">m</span>
            </div>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="form-group">
            <label>Scale</label>
                <div class="input-group">
                    <input type="number" class="form-control" min="1" ng-model="scale.pixels" />
                    <span class="input-group-addon">px</span>
                </div>
                <div class="input-group">
                    <input type="number" class="form-control" min="1" ng-model="scale.meters" />
                    <span class="input-group-addon">m</span>
                </div>
        </div>
    </div>
</div>
<br/>
<div class="row" ng-if="selected >= 0">
    <div class="visible-xs">
        <div class="btn-group btn-group-lg btn-group-justified">
            <div class="btn-group">
                <button type="button" class="btn btn-default"
                        ng-class="{active: corners[selected].layout == 1}" ng-click="cornerLeft()">
                    <span class="glyphicon glyphicon-arrow-left"></span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default"
                        ng-class="{active: corners[selected].layout == 0}" ng-click="cornerStraight()">
                    <span class="glyphicon glyphicon-arrow-up"></span>
                </button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default"
                        ng-class="{active: corners[selected].layout == -1}" ng-click="cornerRight()">
                    <span class="glyphicon glyphicon-arrow-right"></span>
                </button>
            </div>
        </div>
        <br/>
    </div>
    <div class="hidden-xs col-sm-2">
        <div class="btn-group-vertical btn-group-lg btn-block">
            <button type="button" class="btn btn-default"
                    ng-class="{active: corners[selected].layout == 1}" ng-click="cornerLeft()">
                <span class="glyphicon glyphicon-arrow-left"></span>
            </button>
            <button type="button" class="btn btn-default"
                    ng-class="{active: corners[selected].layout == 0}" ng-click="cornerStraight()">
                <span class="glyphicon glyphicon-arrow-up"></span>
            </button>
            <button type="button" class="btn btn-default"
                    ng-class="{active: corners[selected].layout == -1}" ng-click="cornerRight()">
                <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
        </div>
    </div>
    <div class="col-sm-5">
        <div class="form-group">
            <label>Sportiness</label>
            <input type="range" class="form-control" min="0" max="5" step="0.0001" ng-model="corners[selected].sportiness" />
        </div>
        <div class="form-group" ng-if="corners[selected].layout === 0">
            <label>Length</label>
            <div class="input-group">
                <input type="number" class="form-control" min="1" ng-model="corners[selected].layoutInfo" />
                <span class="input-group-addon">m</span>
            </div>
        </div>
        <div class="form-group" ng-if="corners[selected].layout !== 0">
            <label>Corner radius</label>
            <div class="input-group">
                <input type="number" class="form-control" min="1" ng-model="corners[selected].radius" />
                <span class="input-group-addon">m</span>
            </div>
        </div>
        <div class="form-group" ng-if="corners[selected].layout !== 0">
            <label>Angle</label>
            <div class="input-group">
                <input type="number" class="form-control" min="1" max="360" step="0.5" ng-model="corners[selected].layoutInfo" />
                <span class="input-group-addon">ยบ</span>
            </div>
        </div>
    </div>
    <div class="col-sm-5">
        <div class="form-group">
            <label>Slope</label>
            <div class="input-group">
                <input type="number" class="form-control" min="-100" max="100" ng-model="corners[selected].slope" />
                <span class="input-group-addon">%</span>
            </div>
        </div>
        <div class="form-group">
            <label>Camber</label>
            <div class="input-group">
                <input type="number" class="form-control" min="-90" max="90" ng-model="corners[selected].camber" />
                <span class="input-group-addon">ยบ</span>
            </div>
        </div>
    </div>
</div>